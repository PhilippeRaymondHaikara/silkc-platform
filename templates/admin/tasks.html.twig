<table id="datatable-task" class="table table-striped table-bordered" style="width:100%">
    <thead>
        <tr>
            <th>{{ 'task.label.name'|trans }}</th>
            <th>{{ 'task.label.registered_on'|trans }}</th>
            <th>{{ 'task.label.registered_by'|trans }}</th>
            <th>{{ 'task.label.status'|trans }}</th>
            <th>{{ 'task.label.action'|trans }}</th>
        </tr>
    </thead>
    <tbody>
        {% if to_validated_trainings is defined and to_validated_trainings is iterable and to_validated_trainings|length > 0 %}
            {% for training in to_validated_trainings %}
                <tr>
                    <td>{{ training.name }}</td>
                    <td>{{ training.createdAt|date('Y/m/d') }}</td>
                    <td>
                        {{ (training.user.roles is defined and 'ROLE_INSTITUTION' in training.user.roles) ? training.user.username : training.user.firstname ~ ' ' ~ training.user.lastname }}
                        <i class="fas fa-info-circle" data-toggle="tooltip" title="{{ training.user.email }}"></i>
                    </td>
                    <td>
                        {% if (training.isValidated == true) %}
                            <span class="text-success">{{ 'task.label.approved'|trans }}</span>
                        {% elseif (training.isRejected == true)%}
                            <span class="text-warning">{{ 'task.label.rejected'|trans }}</span>
                        {% else %}
                            {{ 'task.label.pending'|trans }}
                        {% endif %}
                    </td>
                    <td>
                        <a href="" class="btn btn-success mt-1 mb-1">{{ 'task.action.approve'|trans }}</a>
                        <a href="" class="btn btn-warning mt-1 mb-1">{{ 'task.action.reject'|trans }}</a>
                        <a href="#" class="btn btn-primary mt-1 mb-1 see-detail" data-id="{{ training.id }}">{{ 'task.action.see_details'|trans }}</a>
                        <a href="" class="btn btn-danger mt-1 mb-1">{{ 'task.action.delete'|trans }}</a>
                    </td>
                </tr>
            {% endfor %}
        {% endif %}
    </tbody>
</table>

<table id="datatable-institution" class="table table-striped table-bordered mt-5" style="width:100%">
    <thead>
        <tr>
            <th>{{ 'task.label.name'|trans }}</th>
            <th>{{ 'task.label.registered_on'|trans }}</th>
            <th>{{ 'task.label.status'|trans }}</th>
            <th>{{ 'task.label.action'|trans }}</th>
        </tr>
    </thead>
    <tbody>
        {% if to_validated_institutions is defined and to_validated_institutions is iterable and to_validated_institutions|length > 0 %}
            {% for institution in to_validated_institutions %}
                <tr>
                    <td>{{ institution.username }}</td>
                    <td>{{ institution.createdAt|date('Y/m/d') }}</td>
                    <td>
                        {#{% if (institution.isModerate == true) %}
                            <span class="text-success">{{ 'task.label.approved'|trans }}</span>
                        {% else %}
                            {{ 'task.label.pending'|trans }}
                        {% endif %}#}
                    </td>
                    <td>
                        <a href="" class="btn btn-success mt-1 mb-1">{{ 'task.action.approve'|trans }}</a>
                        <a href="" class="btn btn-warning mt-1 mb-1">{{ 'task.action.reject'|trans }}</a>
                        <a href="#" class="btn btn-primary mt-1 mb-1 see-detail" data-id="{{ institution.id }}">{{ 'task.action.see_details'|trans }}</a>
                        <a href="" class="btn btn-danger mt-1 mb-1">{{ 'task.action.delete'|trans }}</a>
                    </td>
                </tr>
            {% endfor %}
        {% endif %}
    </tbody>
</table>
