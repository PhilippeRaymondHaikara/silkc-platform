<table id="datatable-task" class="table table-striped table-bordered" style="width:100%">
    <thead>
        <tr>
            <th>{{ 'task.label.name'|trans }}</th>
            <th>{{ 'task.label.registered_on'|trans }}</th>
            <th>{{ 'task.label.registered_by'|trans }}</th>
            <th>{{ 'task.label.status'|trans }}</th>
            <th style="width: 90px;"></th>
        </tr>
    </thead>
    <tbody>
        {% if to_validated_trainings is defined and to_validated_trainings is iterable and to_validated_trainings|length > 0 %}
            {% for training in to_validated_trainings %}
                <tr>
                    <td>{{ training.name }}</td>
                    <td>{{ training.createdAt|date('Y/m/d') }}</td>
                    <td>
                        {{ (training.user.roles is defined and 'ROLE_INSTITUTION' in training.user.roles) ? training.user.username : training.user.firstname ~ ' ' ~ training.user.lastname }}
                        <i class="fas fa-info-circle" data-toggle="tooltip" title="{{ training.user.email }}"></i>
                    </td>
                    <td>
                        {% if (training.isValidated == true) %}
                            <span class="text-success">{{ 'task.label.approved'|trans }}</span>
                        {% elseif (training.isRejected == true)%}
                            <span class="text-warning">{{ 'task.label.rejected'|trans }}</span>
                        {% else %}
                            {{ 'task.label.pending'|trans }}
                        {% endif %}
                    </td>
                    <td style="width: 90px;">
                        {% if training.isValidated == false %}
                            <button class="btn btn-sm btn-warning approve_training" data-id="{{ training.id }}" data-toggle="tooltip" title="{{ 'button.approve'|trans }}">
                                <i class="fas fa-ban"></i>
                            </button>
                        {% else %}
                            <button class="btn btn-sm btn-success reject_training" data-id="{{ training.id }}" data-toggle="tooltip" title="{{ 'button.reject'|trans }}">
                                <i class="fas fa-ban"></i>
                            </button>
                        {% endif %}

                        <button class="btn btn-sm btn-primary see-detail" data-id="{{ training.id }}" data-toggle="tooltip" title="{{ 'button.detail'|trans }}">
                            <i class="fas fa-search-plus"></i>
                        </button>

                        <button class="btn btn-sm btn-danger delete_training" data-id="{{ training.id }}" data-toggle="tooltip" title="{{ 'button.delete'|trans }}">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </td>
                </tr>
            {% endfor %}
        {% endif %}
    </tbody>
</table>

<table id="datatable-institution" class="table table-striped table-bordered mt-5" style="width:100%">
    <thead>
        <tr>
            <th>{{ 'task.label.name'|trans }}</th>
            <th>{{ 'task.label.registered_on'|trans }}</th>
            <th>{{ 'task.label.status'|trans }}</th>
            <th style="width: 90px;">{{ 'task.label.action'|trans }}</th>
        </tr>
    </thead>
    <tbody>
        {% if to_validated_institutions is defined and to_validated_institutions is iterable and to_validated_institutions|length > 0 %}
            {% for institution in to_validated_institutions %}
                <tr>
                    <td>{{ institution.username }}</td>
                    <td>{{ institution.createdAt|date('Y/m/d') }}</td>
                    <td>
                        {% if (institution.isValidated == true) %}
                            <span class="text-success">{{ 'task.label.approved'|trans }}</span>
                        {% else %}
                            {{ 'task.label.pending'|trans }}
                        {% endif %}
                    </td>
                    <td style="width: 90px;">
                        {% if institution.isValidated == false %}
                            <button class="btn btn-sm btn-warning approve_training" data-id="{{ institution.id }}" data-toggle="tooltip" title="{{ 'button.approve'|trans }}">
                                <i class="fas fa-ban"></i>
                            </button>
                        {% else %}
                            <button class="btn btn-sm btn-success reject_training" data-id="{{ institution.id }}" data-toggle="tooltip" title="{{ 'button.reject'|trans }}">
                                <i class="fas fa-ban"></i>
                            </button>
                        {% endif %}

                        <button class="btn btn-sm btn-primary see-detail" data-id="{{ institution.id }}" data-toggle="tooltip" title="{{ 'button.detail'|trans }}">
                            <i class="fas fa-search-plus"></i>
                        </button>

                        <button class="btn btn-sm btn-danger delete_training" data-id="{{ institution.id }}" data-toggle="tooltip" title="{{ 'button.delete'|trans }}">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </td>
                </tr>
            {% endfor %}
        {% endif %}
    </tbody>
</table>
