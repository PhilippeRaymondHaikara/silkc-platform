{% set trainingsInput = [] %}

<fieldset>
	<div class="info">
        {{ 'please_indicate_any_professional_training'|trans }}
	</div>

	<div class="d-inline-flex align-items-end add-training">
		<label for="training-input">{{ 'training_name'|trans }}</label>
        {% include 'front/elements/input_add_search.html.twig'
            with {
                'id': 'training-input',
                'url': '/apip/trainings',
                'autocomplete': true,
                'formats': 'json',
                'pagination': 'false',
                'name': 'training'
            }
        %}
        <a href="{{ path('app_training_create') }}" >{{ 'don_t_find_your_training'|trans }}</a>
	</div>

	<div class="list-trainings">
		<div class="info">
			{{ 'list_of_professional_training_you_have_previously_followed'|trans }}
		</div>

		<ul class="list-group">
			{% if user.trainings is defined %}
				{% for k, training in user.trainings %}
                    {% set trainingsInput = trainingsInput|merge([training.id]) %}
					<li class="list-group-item d-flex justify-content-between align-items-center">
						<div>
							<span>{{ training.name }}</span>
						</div>
						<div class="d-inline-flex align-items-center justify-content-end">
							<a href="" class="link mr-2" title="Skills linked to this training">
								<i class="fas fa-search text-primary"></i>
							</a>
							<a href="" class="text-danger item rmv mr-2" title="Remove this training" data-name="{{ training.name }}" data-id="{{ training.id }}" data-url="url de suppression">
								<i class="fas fa-unlink text-danger"></i>
							</a>
							<a href="" class="text-success feedback" title="Provide feedback">
								<i class="fas fa-plus text-primary"></i>
							</a>
						</div>
					</li>
				{% endfor %}
			{% endif %}
			<li class="no_training_result" style="{{ (user.trainings is defined and user.trainings|length > 0) ? 'display: none;' }}">{{ 'no_result_found'|trans }}</li>
		</ul>
	</div>
</fieldset>

<input type="hidden" name="trainings" id="trainings" value="{{ trainingsInput|json_encode() }}" />

<div class="form-group button-group text-right">
	<button type="submit" class="btn btn-primary">{{ 'label.save'|trans }}</button>
</div>
